<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SpiderWeb Hearts</title>
    <style>
        :root {
            --color-bg-primary: #0f1419;
            --color-text-primary: #ffffff;
            --color-primary: #ff0000;
            --color-heart-blue: #0099ff;
            --color-heart-black: #1a1a1a;
            --color-web: #e0e0e0;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            width: 100%;
            height: 100vh;
            background: linear-gradient(135deg, #0f1419 0%, #1a2332 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Arial', sans-serif;
            overflow: hidden;
        }

        .container {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .spiderweb-button {
            font-size: 80px;
            cursor: pointer;
            transition: transform 0.2s ease;
            margin-bottom: 40px;
            user-select: none;
        }

        .spiderweb-button:hover {
            transform: scale(1.1);
        }

        .spiderweb-button:active {
            transform: scale(0.95);
        }

        .canvas-wrapper {
            position: relative;
            width: 800px;
            height: 500px;
            background: radial-gradient(circle at center, rgba(255,0,0,0.05) 0%, transparent 70%);
            border-radius: 20px;
            overflow: hidden;
            display: none;
            box-shadow: 0 0 50px rgba(255, 0, 0, 0.2);
        }

        .canvas-wrapper.active {
            display: block;
        }

        canvas {
            width: 100%;
            height: 100%;
            display: block;
        }

        .message {
            position: absolute;
            bottom: 30px;
            text-align: center;
            font-size: 24px;
            font-weight: bold;
            color: #ff69b4;
            opacity: 0;
            animation: fadeInMessage 0.8s ease forwards;
            animation-delay: 2.5s;
            text-shadow: 0 0 10px rgba(255, 105, 180, 0.5);
        }

        @keyframes fadeInMessage {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .info-text {
            color: #888;
            font-size: 14px;
            margin-top: 30px;
        }
    </style>
</head>
<body>
    <div class="container">
        <button class="spiderweb-button" id="spiderwebBtn">üï∏Ô∏è</button>
        <div class="canvas-wrapper" id="canvasWrapper">
            <canvas id="animationCanvas"></canvas>
            <div class="message" id="message">sorry chikko... manichurngoooü•π</div>
        </div>
        <div class="info-text">Click the SpiderWeb emoji to see the magic!</div>
    </div>

    <script>
        const spiderwebBtn = document.getElementById('spiderwebBtn');
        const canvasWrapper = document.getElementById('canvasWrapper');
        const canvas = document.getElementById('animationCanvas');
        const ctx = canvas.getContext('2d');
        const messageEl = document.getElementById('message');

        canvas.width = canvasWrapper.offsetWidth;
        canvas.height = canvasWrapper.offsetHeight;

        let isAnimating = false;

        class Particle {
            constructor(x, y, vx, vy) {
                this.x = x;
                this.y = y;
                this.vx = vx;
                this.vy = vy;
                this.life = 1;
                this.decay = Math.random() * 0.02 + 0.01;
            }

            update() {
                this.x += this.vx;
                this.y += this.vy;
                this.vy += 0.2;
                this.life -= this.decay;
            }

            draw(ctx) {
                ctx.fillStyle = `rgba(224, 224, 224, ${this.life * 0.5})`;
                ctx.fillRect(this.x, this.y, 2, 2);
            }
        }

        let particles = [];

        function drawSpiderman(x, y, scale = 1, swingAngle = 0) {
            ctx.save();
            ctx.translate(x, y);
            ctx.rotate(swingAngle);
            ctx.scale(scale, scale);

            // Head (Blue)
            ctx.fillStyle = '#0066ff';
            ctx.beginPath();
            ctx.arc(0, -40, 15, 0, Math.PI * 2);
            ctx.fill();

            // Eyes mask
            ctx.fillStyle = '#ffffff';
            ctx.fillRect(-10, -42, 8, 6);
            ctx.fillRect(2, -42, 8, 6);

            // Body (Red)
            ctx.fillStyle = '#cc0000';
            ctx.fillRect(-20, -20, 40, 35);

            // Blue chest piece
            ctx.fillStyle = '#0066ff';
            ctx.fillRect(-15, -15, 30, 20);

            // Arms (Blue, raised for web shooting)
            ctx.fillStyle = '#0066ff';
            ctx.fillRect(-40, -18, 18, 12);
            ctx.fillRect(22, -18, 18, 12);

            // Red gloves
            ctx.fillStyle = '#cc0000';
            ctx.beginPath();
            ctx.arc(-31, -12, 8, 0, Math.PI * 2);
            ctx.fill();
            ctx.beginPath();
            ctx.arc(40, -12, 8, 0, Math.PI * 2);
            ctx.fill();

            // Legs (Red)
            ctx.fillStyle = '#cc0000';
            ctx.fillRect(-15, 15, 12, 25);
            ctx.fillRect(3, 15, 12, 25);

            // Blue boots
            ctx.fillStyle = '#0066ff';
            ctx.fillRect(-15, 38, 12, 8);
            ctx.fillRect(3, 38, 12, 8);

            ctx.restore();
        }
</parameter>

        function drawHeart(x, y, color, scale = 1) {
            ctx.save();
            ctx.translate(x, y);
            ctx.scale(scale, scale);

            ctx.fillStyle = color;
            ctx.beginPath();
            ctx.moveTo(0, -10);
            ctx.bezierCurveTo(-15, -25, -25, -15, -25, 0);
            ctx.bezierCurveTo(-25, 15, 0, 30, 0, 30);
            ctx.bezierCurveTo(0, 30, 25, 15, 25, 0);
            ctx.bezierCurveTo(25, -15, 15, -25, 0, -10);
            ctx.fill();

            ctx.restore();
        }

        function drawWeb(startX, startY, endX, endY, progress) {
            ctx.save();
            ctx.strokeStyle = `rgba(224, 224, 224, ${progress * 0.8})`;
            ctx.lineWidth = 2;
            ctx.lineCap = 'round';

            const steps = Math.ceil(100 * progress);
            for (let i = 0; i < steps; i++) {
                const t = i / steps;
                const x1 = startX + (endX - startX) * t;
                const y1 = startY + (endY - startY) * t;
                const x2 = startX + (endX - startX) * (t + 0.01);
                const y2 = startY + (endY - startY) * (t + 0.01);

                ctx.beginPath();
                ctx.moveTo(x1, y1);
                ctx.lineTo(x2, y2);
                ctx.stroke();
            }

            ctx.restore();
        }

        function drawWebHand(x, y, progress) {
            ctx.save();
            ctx.fillStyle = `rgba(224, 224, 224, ${progress * 0.6})`;

            // Web opening like a hand
            const fingers = 5;
            for (let i = 0; i < fingers; i++) {
                const angle = (i / fingers) * Math.PI - Math.PI / 2;
                const length = 60 * progress;
                const endX = x + Math.cos(angle) * length;
                const endY = y + Math.sin(angle) * length;

                ctx.beginPath();
                ctx.moveTo(x, y);
                ctx.quadraticCurveTo(
                    x + Math.cos(angle) * length * 0.5,
                    y + Math.sin(angle) * length * 0.5 - 10,
                    endX,
                    endY
                );
                ctx.lineWidth = 3;
                ctx.stroke();
            }

            ctx.restore();
        }

        function animateScene() {
            let animationTime = 0;
            const totalDuration = 3200;

            function frame() {
                animationTime += 16;
                const progress = Math.min(animationTime / totalDuration, 1);

                // Clear canvas
                ctx.fillStyle = 'rgba(15, 20, 25, 0.3)';
                ctx.fillRect(0, 0, canvas.width, canvas.height);

                // Update particles
                particles = particles.filter(p => p.life > 0);
                particles.forEach(p => {
                    p.update();
                    p.draw(ctx);
                });

                // Phase 1: Spiderman swings and shoots web (0-0.3)
                if (progress < 0.3) {
                    const phase1 = progress / 0.3;
                    const swingAngle = Math.sin(phase1 * Math.PI) * 0.4;
                    const swingX = 80 + Math.sin(phase1 * Math.PI) * 60;
                    const swingY = 120 + Math.cos(phase1 * Math.PI * 2) * 30;
                    
                    drawSpiderman(swingX, swingY, 0.8, swingAngle);

                    // Shooting animation - web shoots from hands
                    const shootX = swingX + 30 + Math.cos(-0.5) * 40;
                    const shootY = swingY + Math.sin(-0.5) * 40;
                    const webEndX = 500;
                    const webEndY = 200;

                    drawWeb(shootX, shootY, webEndX, webEndY, phase1);

                    // Web particles - more dense and realistic
                    if (Math.random() > 0.6) {
                        const angle = Math.atan2(webEndY - shootY, webEndX - shootX);
                        particles.push(
                            new Particle(
                                shootX + Math.cos(angle) * phase1 * 300,
                                shootY + Math.sin(angle) * phase1 * 300,
                                (Math.random() - 0.5) * 6,
                                (Math.random() - 0.5) * 6
                            )
                        );
                    }
                }
</parameter>

                // Phase 2: Web hand opens and catches blue heart (0.3-0.6)
                if (progress >= 0.3 && progress < 0.6) {
                    const phase2 = (progress - 0.3) / 0.3;
                    const swingAngle2 = Math.cos(phase2 * Math.PI) * 0.3;
                    drawSpiderman(150, 80, 0.8, swingAngle2);
</parameter>

                    const webX = 500;
                    const webY = 200;

                    // Draw web hand opening
                    drawWebHand(webX, webY, phase2);

                    // Blue heart moving to web
                    const blueHeartX = 700 - phase2 * 200;
                    const blueHeartY = 250 - phase2 * 50;
                    drawHeart(blueHeartX, blueHeartY, '#0099ff', 1.2);

                    // Web connecting
                    drawWeb(webX, webY, blueHeartX, blueHeartY, phase2 * 0.5);
                }

                // Phase 3: Black heart joins (0.6-0.8)
                if (progress >= 0.6 && progress < 0.8) {
                    const phase3 = (progress - 0.6) / 0.2;
                    const swingAngle3 = Math.sin(phase3 * Math.PI) * 0.35;
                    drawSpiderman(120, 110, 0.8, swingAngle3);
</parameter>

                    const webX = 500;
                    const webY = 200;
                    drawWebHand(webX, webY, 1);

                    // Blue heart at web position
                    const blueHeartX = 500;
                    const blueHeartY = 200;
                    drawHeart(blueHeartX, blueHeartY, '#0099ff', 1.2);

                    // Black heart moving to blue heart
                    const blackHeartX = 250 + phase3 * 250;
                    const blackHeartY = 350 - phase3 * 150;
                    drawHeart(blackHeartX, blackHeartY, '#1a1a1a', 1.2);

                    // Web connecting hearts
                    drawWeb(blackHeartX, blackHeartY, blueHeartX, blueHeartY, phase3 * 0.8);
                }

                // Phase 4: Hearts join with infinity symbol (0.8-1.0)
                if (progress >= 0.8) {
                    const phase4 = (progress - 0.8) / 0.2;
                    drawSpiderman(100, 100, 0.8, 0);
</parameter>

                    const centerX = canvas.width / 2;
                    const centerY = canvas.height / 2.5;

                    // Draw infinity symbol with hearts
                    ctx.save();
                    ctx.fillStyle = `rgba(224, 224, 224, ${phase4 * 0.8})`;
                    ctx.font = 'bold 60px Arial';
                    ctx.textAlign = 'center';
                    ctx.textBaseline = 'middle';
                    ctx.fillText('‚àû', centerX, centerY);
                    ctx.restore();

                    // Blue heart on left of infinity
                    drawHeart(centerX - 80, centerY, '#0099ff', 1.5);

                    // Black heart on right of infinity
                    drawHeart(centerX + 80, centerY, '#1a1a1a', 1.5);

                    // Glowing effect
                    ctx.save();
                    ctx.fillStyle = `rgba(255, 255, 255, ${phase4 * 0.3 * Math.sin(animationTime / 100)})`;
                    ctx.beginPath();
                    ctx.arc(centerX, centerY, 150, 0, Math.PI * 2);
                    ctx.fill();
                    ctx.restore();
                }

                if (progress < 1) {
                    requestAnimationFrame(frame);
                } else {
                    isAnimating = false;
                }
            }

            frame();
        }

        spiderwebBtn.addEventListener('click', () => {
            if (isAnimating) return;

            isAnimating = true;
            canvasWrapper.classList.add('active');
            messageEl.style.opacity = '0';
            messageEl.style.animation = 'none';
            messageEl.classList.remove('floating');
            particles = [];

            // Reset animation
            setTimeout(() => {
                messageEl.style.animation = 'fadeInMessage 1.2s ease forwards';
                messageEl.style.animationDelay = '2.8s';
                messageEl.classList.add('floating');
            }, 50);

            animateScene();

            // Hide canvas after animation
            setTimeout(() => {
                canvasWrapper.classList.remove('active');
            }, 3800);
        });
    </script>
</body>
</html>
